<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Tic Tac Toe</title>

<style>
  body {
    background-color: #222;
    color: #fff;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  h1 {
    font-size: 3rem;
    margin-bottom: 20px;
    color: #ffcc00;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
  }

  table {
    border-spacing: 10px;
    margin: 20px auto;
  }

  td img {
    width: 120px;
    height: 120px;
    cursor: pointer;
    border: 2px solid #444;
    border-radius: 10px;
    transition: transform 0.2s ease;
  }

  td img:hover {
    transform: scale(1.1);
  }

  button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 1.2rem;
    background-color: #ff5722;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  button:hover {
    background-color: #e64a19;
  }

  #winner {
    font-size: 1.5rem;
    margin-top: 20px;
    color: #4caf50;
  }
</style>

<script>
let spieler = 1; // 1 = Kreuz, 2 = Kreis
let board = [
  ["", "", ""],
  ["", "", ""],
  ["", "", ""]
];

function change(id, row, col) {
  let feld = document.getElementById(id);


  if (board[row][col] !== "") {
    alert("Dieses Feld ist schon belegt!");
    return;
  }

  if (spieler === 1) {
    feld.src = "ttt2.png";
    board[row][col] = "X";
    spieler = 2;
  } else {
    feld.src = "ttt1.png"; 
    board[row][col] = "O";
    spieler = 1;
  }

  const winner = checkWinner();
  if (winner) {
    document.getElementById("winner").textContent = `Spieler ${winner} hat gewonnen!`;
    disableBoard();
    return;
  }

  if (isDraw()) {
    document.getElementById("winner").textContent = "Unentschieden! Niemand hat gewonnen.";
    disableBoard();
  }
}

function checkWinner() {

    for (let i = 0; i < 3; i++) {
    if (board[i][0] !== "" && board[i][0] === board[i][1] && board[i][1] === board[i][2]) {
      return board[i][0];
    }
    if (board[0][i] !== "" && board[0][i] === board[1][i] && board[1][i] === board[2][i]) {
      return board[0][i];
    }
  }
  if (board[0][0] !== "" && board[0][0] === board[1][1] && board[1][1] === board[2][2]) {
    return board[0][0];
  }
  if (board[0][2] !== "" && board[0][2] === board[1][1] && board[1][1] === board[2][0]) {
    return board[0][2];
  }
  return null;
}

function isDraw() {
  for (let row = 0; row < 3; row++) {
    for (let col = 0; col < 3; col++) {
      if (board[row][col] === "") {
        return false; 
      }
    }
  }
  return true; 
}

function disableBoard() {
  for (let row = 0; row < 3; row++) {
    for (let col = 0; col < 3; col++) {
      const id = `Platz${row + 1}${col + 1}`;
      document.getElementById(id).onclick = null;
    }
  }
}

function resetGame() {
  spieler = 1;
  board = [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ];
  document.getElementById("winner").textContent = "";
  for (let row = 0; row < 3; row++) {
    for (let col = 0; col < 3; col++) {
      const id = `Platz${row + 1}${col + 1}`;
      const feld = document.getElementById(id);
      feld.src = "ttt.png";
      feld.onclick = () => change(id, row, col);
    }
  }
}
</script>

</head>

<body>
<h1>Tic Tac Toe</h1>
<div id="winner"></div>
<table>
<tbody>
<tr>
  <td><img id="Platz11" src="ttt.png" onclick="change('Platz11', 0, 0)"></td>
  <td><img id="Platz12" src="ttt.png" onclick="change('Platz12', 0, 1)"></td>
  <td><img id="Platz13" src="ttt.png" onclick="change('Platz13', 0, 2)"></td>
</tr>
<tr>
  <td><img id="Platz21" src="ttt.png" onclick="change('Platz21', 1, 0)"></td>
  <td><img id="Platz22" src="ttt.png" onclick="change('Platz22', 1, 1)"></td>
  <td><img id="Platz23" src="ttt.png" onclick="change('Platz23', 1, 2)"></td>
</tr>
<tr>
  <td><img id="Platz31" src="ttt.png" onclick="change('Platz31', 2, 0)"></td>
  <td><img id="Platz32" src="ttt.png" onclick="change('Platz32', 2, 1)"></td>
  <td><img id="Platz33" src="ttt.png" onclick="change('Platz33', 2, 2)"></td>
</tr>
</tbody>
</table>
<button onclick="resetGame()">Neues Spiel</button>
</body>
</html>